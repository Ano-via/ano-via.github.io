<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Textarea URL Checker</title>
<style>
  .textarea-container {
    display: flex;
    justify-content: space-between;
  }
  textarea {
    width: 30%;
    height: 150px;
  }
</style>
</head>
<body>

<div class="textarea-container">
  <textarea id="textarea1" oninput="countLines('textarea1')"></textarea>
  <textarea id="textarea2" oninput="countLines('textarea2')"></textarea>
  <textarea id="textarea3" oninput="countLines('textarea3')"></textarea>
</div>
<button onclick="checkURL()">Check URL</button>

<script>
  function countLines(textareaId) {
    const textarea = document.getElementById(textareaId);
    const lines = textarea.value.split('\n').length;
    document.getElementById(`${textareaId}-lines`).innerText = `Lines: ${lines}`;
  }

  function checkURL() {
    const urls = document.getElementById('textarea1').value.match(/\bhttps?:\/\/\S+/gi);
    const textarea2 = document.getElementById('textarea2');
    const textarea3 = document.getElementById('textarea3');

    if (urls) {
      urls.forEach(url => {
        fetch(url, { method: 'HEAD' })
          .then(response => {
            if (response.ok) {
              return response;
            } else {
              return Promise.reject(new Error('URL not found'));
            }
          })
          .then(() => {
            textarea2.value += url + '\n';
            countLines('textarea2');
          })
          .catch(() => {
            textarea3.value += url + '\n';
            countLines('textarea3');
          });
      });
    }
  }
</script>

</body>
</html>
